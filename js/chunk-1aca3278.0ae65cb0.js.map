{"version":3,"sources":["webpack:///./src/views/board/details/index.vue?d13c","webpack:///./src/views/board/details/index.vue?cfcc","webpack:///./src/views/board/details/index.vue?8241","webpack:///./src/views/board/details/index.vue","webpack:///./src/views/board/details/index.vue?6941"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","viewTheme","attrs","headValue","staticStyle","_v","_s","$route","query","name","buttonPermissions","on","hiddleClickBtnData","_e","_l","item","index","key","style","number","$event","tabClick","viewCode","viewName","directives","rawName","value","isloading","expression","activename","tag","data","curveData","staticRenderFns","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","components","mixins","undefined","getAdata","timer","activeHome","detailBtn","template","created","_this","$store","state","user","config","deviceId","id","viewTypeId","then","res","getStatus","mounted","_this2","setInterval","beforeDestroy","clearInterval","methods","_this3","map","viewId","reqTime","utcTime","replace","startTime","$moment","Date","getTime","format","pageIndex","pageSize","$nextTick","$set","items","_this4","$router","path","code","come","component"],"mappings":"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","file":"js/chunk-1aca3278.0ae65cb0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{class:[this.viewTheme == 'dark'?'inner dark':'inner']},[_c('BoardHeader',{attrs:{\"headValue\":_vm.headValue}}),_c('el-tag',{staticStyle:{\"position\":\"fixed\",\"left\":\"60.5%\",\"top\":\"2.1%\",\"background\":\"rgba(16, 28, 75, 0.1)\",\"color\":\"#fff\",\"font-size\":\"18px\",\"z-index\":\"9999\"}},[_vm._v(_vm._s(_vm.$route.query.name))]),(_vm.buttonPermissions('8000101'))?_c('el-button',{staticStyle:{\"position\":\"fixed\",\"left\":\"3%\",\"top\":\"7.2%\",\"background\":\"none\"},attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"el-icon-position\"},on:{\"click\":_vm.hiddleClickBtnData}},[_vm._v(\"跳转到展示数据详情\")]):_vm._e(),_c('main',[_c('div',{staticClass:\"main-1\"},[_c('div',{staticClass:\"box\"},_vm._l((_vm.template),function(item,index){return _c('el-button',{key:index,staticClass:\"btn\",style:(index===_vm.number?'background: #00065c;':'background: #2c58a6;'),attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.tabClick(item.viewCode, index)}}},[_vm._v(\"\\n            \"+_vm._s(item.viewName)+\"\\n          \")])}),1)]),(_vm.getAdata)?_c('BoardBox',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(!_vm.isloading),expression:\"!isloading\"}],staticClass:\"main-2\",attrs:{\"element-loading-background\":\"rgba(0, 0, 0, 0.2)\",\"element-loading-text\":\"拼命加载中\"}},[(_vm.isloading)?_c(_vm.activename,{tag:\"components\",attrs:{\"data\":_vm.data,\"curveData\":_vm.curveData}}):_vm._e()],1):_vm._e()],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport _defineProperty from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\code\\\\\\u4E1A\\u52A1\\u7CFB\\u7EDF\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport * as components from '@/components'; // import { GetStatusById } from '@/api/equipmentManagement/status' // 数据接口\n\nimport { GetViewByDeviceId, GetByDeviceIdAndViewId, GetData } from '@/api/devicelist';\nimport { GetUtcTime } from '@/api/equipmentManagement/status'; // 数据接口\n\nimport { buttonPermissions } from '@/mixin';\nexport default {\n  name: 'BoardDetails',\n  components: _objectSpread({}, components),\n  mixins: [buttonPermissions],\n  data: function data() {\n    return {\n      viewTheme: undefined,\n      activename: '',\n      getAdata: false,\n      timer: null,\n      data: [],\n      curveData: [],\n      headValue: {\n        activeHome: false,\n        detailBtn: '设备详情'\n      },\n      template: [],\n      number: 0,\n      isloading: false\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.viewTheme = this.$store.state.user.config.viewTheme;\n    GetViewByDeviceId({\n      deviceId: this.$route.query.id,\n      viewTypeId: 200\n    }).then(function (res) {\n      _this.template = res.data;\n      _this.activename = _this.template[0].viewCode;\n      _this.getAdata = true;\n\n      _this.getStatus(_this.activename);\n    });\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.timer = setInterval(function () {\n      _this2.getStatus(_this2.activename);\n    }, 7000);\n  },\n  beforeDestroy: function beforeDestroy() {\n    clearInterval(this.timer);\n  },\n  methods: {\n    getStatus: function getStatus(activename) {\n      var _this3 = this;\n\n      this.template.map(function (item) {\n        if (item.viewCode === activename) {\n          GetByDeviceIdAndViewId({\n            deviceId: _this3.$route.query.id,\n            viewId: item.viewId\n          }).then(function (res) {\n            _this3.data = res.data;\n          });\n          var reqTime = '';\n          GetUtcTime().then(function (res) {\n            reqTime = res.data.utcTime.replace(/-/g, '/');\n            GetData({\n              deviceId: _this3.$route.query.id,\n              viewId: item.viewId,\n              startTime: _this3.$moment(new Date(new Date(reqTime).getTime() - 1800000)).format('YYYY-MM-DD hh:mm:ss'),\n              // 开始的时间\n              pageIndex: 1,\n              pageSize: 200\n            }).then(function (res) {\n              _this3.isloading = true; // console.timeEnd('loading')\n\n              _this3.$nextTick(function () {\n                _this3.$set(_this3, 'curveData', res.data.items);\n              });\n            });\n          });\n        }\n      });\n    },\n    tabClick: function tabClick(item, index) {\n      var _this4 = this;\n\n      clearInterval(this.timer); // 在按钮切换时, 先清除定时器, 再重启定时器\n\n      this.number = index;\n\n      if (this.activename === item) {\n        return;\n      } else {\n        this.activename = item;\n      }\n\n      this.isloading = false; // console.time('loading')\n\n      this.getStatus(this.activename);\n      this.timer = setInterval(function () {\n        _this4.getStatus(_this4.activename);\n      }, 7000);\n    },\n    hiddleClickBtnData: function hiddleClickBtnData() {\n      this.$router.push({\n        path: \"/boardData\",\n        query: {\n          id: this.$route.query.id,\n          name: this.$route.query.name,\n          code: this.$route.query.code,\n          come: 'boardDetails'\n        }\n      });\n    }\n  }\n};","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1c8894f3&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1c8894f3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c8894f3\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1c8894f3&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1c8894f3&lang=scss&scoped=true&\""],"sourceRoot":""}