(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1aca3278"],{"06b1":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{class:["dark"==this.viewTheme?"inner dark":"inner"]},[a("BoardHeader",{attrs:{headValue:e.headValue}}),a("el-tag",{staticStyle:{position:"fixed",left:"60.5%",top:"2.1%",background:"rgba(16, 28, 75, 0.1)",color:"#fff","font-size":"18px","z-index":"9999"}},[e._v(e._s(e.$route.query.name))]),e.buttonPermissions("8000101")?a("el-button",{staticStyle:{position:"fixed",left:"3%",top:"7.2%",background:"none"},attrs:{size:"mini",type:"primary",icon:"el-icon-position"},on:{click:e.hiddleClickBtnData}},[e._v("跳转到展示数据详情")]):e._e(),a("main",[a("div",{staticClass:"main-1"},[a("div",{staticClass:"box"},e._l(e.template,(function(t,i){return a("el-button",{key:i,staticClass:"btn",style:i===e.number?"background: #00065c;":"background: #2c58a6;",attrs:{type:"primary"},on:{click:function(a){return e.tabClick(t.viewCode,i)}}},[e._v("\n            "+e._s(t.viewName)+"\n          ")])})),1)]),e.getAdata?a("BoardBox",{directives:[{name:"loading",rawName:"v-loading",value:!e.isloading,expression:"!isloading"}],staticClass:"main-2",attrs:{"element-loading-background":"rgba(0, 0, 0, 0.2)","element-loading-text":"拼命加载中"}},[e.isloading?a(e.activename,{tag:"components",attrs:{data:e.data,curveData:e.curveData}}):e._e()],1):e._e()],1)],1)])},n=[],r=(a("8e6e"),a("ac6a"),a("456d"),a("7f7f"),a("a481"),a("bd86")),o=a("2af9"),c=a("11e6"),s=a("8226"),u=a("4624");function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(a,!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m={name:"BoardDetails",components:l({},o),mixins:[u["a"]],data:function(){return{viewTheme:void 0,activename:"",getAdata:!1,timer:null,data:[],curveData:[],headValue:{activeHome:!1,detailBtn:"设备详情"},template:[],number:0,isloading:!1}},created:function(){var e=this;this.viewTheme=this.$store.state.user.config.viewTheme,Object(c["g"])({deviceId:this.$route.query.id,viewTypeId:200}).then((function(t){e.template=t.data,e.activename=e.template[0].viewCode,e.getAdata=!0,e.getStatus(e.activename)}))},mounted:function(){var e=this;this.timer=setInterval((function(){e.getStatus(e.activename)}),7e3)},beforeDestroy:function(){clearInterval(this.timer)},methods:{getStatus:function(e){var t=this;this.template.map((function(a){if(a.viewCode===e){Object(c["c"])({deviceId:t.$route.query.id,viewId:a.viewId}).then((function(e){t.data=e.data}));var i="";Object(s["c"])().then((function(e){i=e.data.utcTime.replace(/-/g,"/"),Object(c["d"])({deviceId:t.$route.query.id,viewId:a.viewId,startTime:t.$moment(new Date(new Date(i).getTime()-18e5)).format("YYYY-MM-DD hh:mm:ss"),pageIndex:1,pageSize:200}).then((function(e){t.isloading=!0,t.$nextTick((function(){t.$set(t,"curveData",e.data.items)}))}))}))}}))},tabClick:function(e,t){var a=this;clearInterval(this.timer),this.number=t,this.activename!==e&&(this.activename=e,this.isloading=!1,this.getStatus(this.activename),this.timer=setInterval((function(){a.getStatus(a.activename)}),7e3))},hiddleClickBtnData:function(){this.$router.push({path:"/boardData",query:{id:this.$route.query.id,name:this.$route.query.name,code:this.$route.query.code,come:"boardDetails"}})}}},v=m,f=(a("9cff"),a("2877")),h=Object(f["a"])(v,i,n,!1,null,"1c8894f3",null);t["default"]=h.exports},"9cff":function(e,t,a){"use strict";var i=a("da63"),n=a.n(i);n.a},da63:function(e,t,a){}}]);
//# sourceMappingURL=chunk-1aca3278.0ae65cb0.js.map