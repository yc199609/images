(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21a18f22"],{"1fb3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-tabs",{attrs:{type:"border-card"},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.templates,(function(t){return a("el-tab-pane",{key:t.id,attrs:{name:t.id.toString(),label:t.name}},[e.activeName===t.id.toString()?a("TableComponent",{attrs:{template:t.template}}):e._e()],1)})),1)],1)},_=[],o=(a("6b54"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-table",{staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{data:e.tableData,border:""}},[n("template",{slot:"empty"},[n("div",{staticClass:"empty"},[n("img",{attrs:{src:a("a431")}}),n("p",[e._v("暂无数据")])])]),n("el-table-column",{attrs:{label:e.$t("home.tableComponent.deviceName")},scopedSlots:e._u([{key:"default",fn:function(t){return[n("router-link",{attrs:{to:{path:"/EquipmentManagement/status/"+t.row.id}}},[n("el-link",{attrs:{type:"primary"}},[e._v(e._s(t.row.name))])],1)]}}])}),n("el-table-column",{attrs:{label:e.$t("home.tableComponent.typename"),prop:"typeName"}}),n("el-table-column",{attrs:{label:e.$t("home.tableComponent.code"),prop:"code"}}),e._l(e.template.fields,(function(t,a){return n("el-table-column",{key:a,attrs:{label:t.name},scopedSlots:e._u([{key:"default",fn:function(a){return[n("div",["light"===t.type?n("Light",{attrs:{data:{state:a.row.data[t.code]}}}):n("span",[e._v("\n            "+e._s(a.row.data[t.code])+"\n          ")])],1)]}}],null,!0)})})),n("el-table-column",{attrs:{label:e.$t("home.tableComponent.updateTime")},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v(e._s(t.row.updateTime?e.$moment.utc(t.row.updateTime).local().format("YYYY-MM-DD HH:mm:ss"):""))])]}}])})],2),n("div",{staticClass:"paginationContainer"},[n("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[5,20,30,40,50],"page-size":e.pageSize,total:e.totalCount,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)}),r=[],i=a("e0db"),l=i["a"],s=a("2877"),m=Object(s["a"])(l,o,r,!1,null,null,null),p=m.exports,c=a("3191"),u={name:"NfHome",components:{TableComponent:p},data:function(){return{templates:[],activeName:""}},mounted:function(){var e=this;Object(c["a"])(200).then((function(t){e.$set(e,"templates",t.data),e.templates[0]&&e.templates[0].id&&(e.activeName=e.templates[0].id.toString())}))}},d=u,b=Object(s["a"])(d,n,_,!1,null,null,null);t["default"]=b.exports},3191:function(e,t,a){"use strict";a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return r}));var n=a("b775"),_={getDeviceList:"/api/dms/DeviceData/GetStatusList",GetTemplateInfoByType:"/api/dms/DataView/GetTemplateInfoByType"};function o(e){return Object(n["a"])({url:_.getDeviceList,method:"get",params:e})}function r(e){return Object(n["a"])({url:_.GetTemplateInfoByType,method:"get",params:{type:e}})}},e0db:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_0__),_components_light__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("f5ed"),_api_home__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("3191"),_mixin__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("4624");__webpack_exports__["a"]={name:"TableComponent",components:{Light:_components_light__WEBPACK_IMPORTED_MODULE_1__["a"]},mixins:[_mixin__WEBPACK_IMPORTED_MODULE_3__["d"]],props:["template"],data:function(){return{tableData:[],timer:""}},mounted:function(){var e=this;this.init(),this.timer=setInterval((function(){e.init()}),5e3)},beforeDestroy:function(){clearInterval(this.timer)},methods:{init:function(){var e=this;Object(_api_home__WEBPACK_IMPORTED_MODULE_2__["b"])({pageIndex:this.pageIndex,pageSize:this.pageSize}).then((function(t){var a=t.data.items;e.pageIndex=t.data.pageIndex,e.pageSize=t.data.pageSize,e.totalCount=t.data.totalCount,e.$set(e,"tableData",a),e.template.fields.forEach((function(t){t.formatter&&e.tableData.forEach((function(a){a.data[t.code]=e.formatterFN(a.data,t.formatter)}))}))}))},formatterFN:function formatterFN(data,evalStr){return eval(evalStr)(data)}}}}}]);
//# sourceMappingURL=chunk-21a18f22.a30a124c.js.map