(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-107db242"],{"410a":function(t,e,n){},"55fd":function(t,e,n){"use strict";var i=n("5e67"),o=n.n(i);o.a},"5e67":function(t,e,n){},"62d7":function(t,e,n){"use strict";var i=n("410a"),o=n.n(i);o.a},"9ae4":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"contain"},[i("Search",{staticClass:"search",attrs:{onsubmit:"return false","show-btn":!0},on:{search:t.searchInit,changeKeyword:t.changeKeyword}},[t.buttonPermissions("30002011601")||t.buttonPermissions("10030002011601")?i("el-button",{attrs:{type:"warning",plain:"",size:"small",icon:"el-icon-plus"},on:{click:t.insert}},[t._v(t._s(t.$t("employees.created")))]):t._e()],1),i("el-card",[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData,"row-class-name":t.tableRowClassName}},[i("template",{slot:"empty"},[i("div",{staticClass:"empty"},[i("img",{attrs:{src:n("a431")}}),i("p",[t._v("暂无数据")])])]),i("el-table-column",{attrs:{align:"center",prop:"name",label:"部位名称"}}),i("el-table-column",{attrs:{align:"center",prop:"code",label:"部位代码"}}),i("el-table-column",{attrs:{align:"center",prop:"description",label:"描述"}}),t.buttonPermissions("30002011600")||t.buttonPermissions("10030002011600")?i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-row",[t.buttonPermissions("30002011602")||t.buttonPermissions("10030002011602")?i("el-col",{staticClass:"ycbutton",attrs:{offset:3,span:8}},[i("el-button",{attrs:{type:"text",icon:"el-icon-edit-outline"},on:{click:function(n){return t.edit(e.row)}}},[t._v(t._s(t.$t("role.edit")))])],1):t._e(),t.buttonPermissions("30002011603")||t.buttonPermissions("10030002011603")?i("el-col",{staticClass:"ycbutton",attrs:{span:8,offset:2}},[i("el-button",{attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(n){return t.del(e.row.id)}}},[t._v(t._s(t.$t("role.delete")))])],1):t._e()],1)]}}],null,!1,1614215694)}):t._e()],2)],1),i("Details",{ref:"detail"})],1)},o=[],a=n("1427"),s=n("b775"),r={GetByDeviceId:"/api/dms/DeviceLocation/GetByDeviceId",create:"/api/dms/DeviceLocation/create",UpdateInfo:"/api/dms/DeviceLocation/UpdateInfo",Delete:"/api/dms/DeviceLocation/delete"};function c(t){return Object(s["a"])({url:r.GetByDeviceId,method:"get",params:t})}function l(t){return Object(s["a"])({url:r.create,method:"post",headers:{"Content-Type":"application/json"},data:t})}function u(t){return Object(s["a"])({url:r.UpdateInfo,method:"post",headers:{"Content-Type":"application/json"},data:t})}function d(t){return Object(s["a"])({url:r.Delete,method:"post",headers:{"Content-Type":"application/json"},data:t})}var f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"insert"===t.type?this.$t("list.details.created"):this.$t("list.details.modify"),"modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1,visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"部位名称"}},[n("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"部位代码"}},[n("el-input",{model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),n("el-form-item",{attrs:{label:"部位描述"}},[n("el-input",{model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.cancel}},[t._v(t._s(t.$t("cancel")))]),n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(t._s(t.$t("ok")))])],1)],1)},p=[],m=(n("8e6e"),n("ac6a"),n("456d"),n("bd86"));function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(n,!0).forEach((function(e){Object(m["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var y={name:"Details",data:function(){return{form:{},dialogVisible:!1,type:"insert"}},methods:{init:function(t){this.dialogVisible=!0,t?(this.form=t,this.type="edit"):this.type="insert"},cancel:function(){this.dialogVisible=!1,this.form={}},onSubmit:function(){var t=this;"edit"===this.type?u(this.form).then((function(){t.$message({type:"success",message:"修改成功",duration:500,onClose:function(){t.$parent.init(),t.cancel()}})})):"insert"===this.type&&l(h({},this.form,{deviceId:this.$route.query.id})).then((function(){t.$message({type:"success",message:"新增成功",duration:500,onClose:function(){t.$parent.init(),t.cancel()}})}))}}},v=y,g=n("2877"),w=Object(g["a"])(v,f,p,!1,null,"e29de5c0",null),$=w.exports,O=n("4624"),k={name:"Location",components:{Search:a["a"],Details:$},mixins:[O["a"]],data:function(){return{loading:!1,tableData:[{name:"12"}],keyword:""}},created:function(){this.init()},methods:{init:function(){var t=this;this.loading=!0,c({deviceId:this.$route.query.id,keyword:this.keyword}).then((function(e){t.loading=!1,t.tableData=e.data}))},changeKeyword:function(t){this.keyword=t},tableRowClassName:function(t){var e=t.row;return e.isRead?"success-row":""},edit:function(t){this.$refs.detail.init(t)},del:function(t){var e=this;this.$confirm("此操作将删除该设备部位, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){d({id:t}).then((function(){e.$message({type:"success",message:"删除成功",duration:500,onClose:function(){e.init()}})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},searchInit:function(){this.init()},insert:function(){var t=this;this.$nextTick((function(){t.$refs.detail.init()}))}}},_=k,j=(n("55fd"),n("62d7"),Object(g["a"])(_,i,o,!1,null,"1bb0d401",null));e["default"]=j.exports}}]);
//# sourceMappingURL=chunk-107db242.88dc250f.js.map