(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fb3a817"],{"0aa4":function(e,t,a){},1248:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e.buttonPermissions("200020101")&&e.buttonPermissions("3000201")&&e.buttonPermissions("3000202")?n("el-card",{staticClass:"type-card"},[n("el-form",{staticClass:"form",attrs:{inline:""}},[n("el-form-item",{attrs:{label:e.$t("searchFault.device")}},[n("el-button-group",[n("el-button",{staticStyle:{height:"36px","min-width":"180px"},on:{click:function(t){return e.deviceSearch("device")}}},[e._v("\n            "+e._s(e.deviceOption&&e.deviceOption.name?e.deviceOption.name:this.$t("searchFault.chooseDevice"))+"\n          ")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.deviceOption,expression:"deviceOption"}],attrs:{type:"primary",icon:"el-icon-delete"},on:{click:function(t){return e.clearDeviceOption("device")}}})],1)],1),n("el-form-item",{attrs:{label:e.$t("searchFault.deviceType")}},[n("el-button-group",[n("el-button",{staticStyle:{height:"36px","min-width":"180px"},on:{click:function(t){return e.deviceSearch("deviceType")}}},[e._v("\n            "+e._s(e.deviceTypeOption&&e.deviceTypeOption.name?e.deviceTypeOption.name:this.$t("searchFault.chooseDeviceType"))+"\n          ")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.deviceTypeOption,expression:"deviceTypeOption"}],attrs:{type:"primary",icon:"el-icon-delete"},on:{click:function(t){return e.clearDeviceOption("deviceType")}}})],1)],1),n("el-button",{attrs:{type:"success",plain:""},on:{click:e.searchInit}},[e._v(e._s(e.$t("searchFault.search")))])],1),n("el-tooltip",{attrs:{effect:"dark",content:"刷新",placement:"top-start"}},[n("el-button",{staticClass:"refresh",attrs:{type:"success",icon:"el-icon-refresh"},on:{click:e.init}})],1)],1):e._e(),n("el-card",{staticClass:"box-card"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,border:""}},[n("template",{slot:"empty"},[n("div",{staticClass:"empty"},[n("img",{attrs:{src:a("a431")}}),n("p",[e._v("暂无数据")])])]),n("el-table-column",{attrs:{label:e.$t("faultTable.device"),align:"center",prop:"deviceName"}}),n("el-table-column",{attrs:{label:e.$t("faultTable.deviceType"),align:"center",prop:"deviceTypeName"}}),n("el-table-column",{attrs:{label:e.$t("faultTable.faultType"),align:"center",prop:"type"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.type?n("el-tag",{attrs:{type:"info"}},[e._v(e._s(e.$t("faultTable.unknown")))]):e._e(),10===t.row.type?n("el-tag",{attrs:{type:"success"}},[e._v(e._s(e.$t("faultTable.notice")))]):e._e(),20===t.row.type?n("el-tag",{attrs:{type:"warning"}},[e._v(e._s(e.$t("faultTable.warn")))]):e._e(),30===t.row.type?n("el-tag",{attrs:{type:"danger"}},[e._v(e._s(e.$t("faultTable.warning")))]):e._e()]}}])}),n("el-table-column",{attrs:{label:e.$t("faultTable.triggerTime"),prop:"createTime",align:"center",width:"180"}}),n("el-table-column",{attrs:{label:e.$t("faultTable.status"),align:"center",prop:"isHandled"},scopedSlots:e._u([{key:"default",fn:function(t){return[!0===t.row.isHandled?n("el-tag",{attrs:{type:"success"}},[n("i",{staticClass:"el-icon-success"}),e._v(e._s(e.$t("faultTable.processed")))]):e._e(),!1===t.row.isHandled?n("el-tag",{attrs:{type:"danger"}},[n("i",{staticClass:"el-icon-warning"}),e._v(e._s(e.$t("faultTable.untreated")))]):e._e()]}}])}),e.buttonPermissions("200020104")||e.buttonPermissions("20002010401")?n("el-table-column",{attrs:{label:e.$t("faultTable.opreation"),align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticStyle:{display:"flex","justify-content":"space-around","align-items":"center"}},[e.buttonPermissions("200020101")?n("el-button",{attrs:{type:"text",icon:"el-icon-view"},on:{click:function(a){return e.searchLook(t.row.id)}}},[e._v(e._s(e.$t("faultTable.see")))]):e._e(),e.buttonPermissions("200020105")||e.buttonPermissions("20002010501")?n("span",[!1===t.row.isHandled?n("el-switch",{attrs:{"active-text":"推送报警"},on:{change:function(a){return e.switchge(t.row.id,t.row.deviceId,t.row.isSendWarn)}},model:{value:t.row.isSendWarn,callback:function(a){e.$set(t.row,"isSendWarn",a)},expression:"scope.row.isSendWarn"}}):!0===t.row.isHandled?n("el-switch",{attrs:{"active-text":"推送报警",disabled:""},on:{change:function(a){return e.switchge(t.row.id,t.row.deviceId,t.row.isSendWarn)}},model:{value:t.row.isSendWarn,callback:function(a){e.$set(t.row,"isSendWarn",a)},expression:"scope.row.isSendWarn"}}):e._e()],1):e._e(),e.buttonPermissions("200020103")||e.buttonPermissions("20002010301")?n("span",[t.row.isHandled?n("el-button",{staticStyle:{color:"gray"},attrs:{type:"text",icon:"el-icon-view"},on:{click:e.alarmTip}},[e._v("手动报警")]):n("el-button",{attrs:{type:"text",icon:"el-icon-view"},on:{click:function(a){return e.alarm(t.row.id)}}},[e._v("手动报警")])],1):e._e()],1)]}}],null,!1,485705978)}):e._e()],2)],1),n("div",{staticClass:"paginationContainer"},[n("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[5,20,30,40,50],"page-size":e.pageSize,total:e.totalCount,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e.detailView?n("Detail",{ref:"detail",on:{reset:function(t){e.detailView=!1}}}):e._e(),e.deviceView?n("DeviceSearch",{ref:"deviceSearch",on:{submit:e.changeDeviceOption}}):e._e(),n("FaultDetails",{ref:"faultDetails"}),n("el-dialog",{attrs:{title:"手动报警",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[e._v("\n    电话号码: "),n("el-input",{staticStyle:{"margin-top":"10px"},attrs:{type:"text"},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.subAlam}},[e._v("确 定")])],1)],1)],1)},i=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),s=a("b775"),r={GetfaultRecord:"/api/dms/faultRecord/get",GetById:"/api/dms/faultRecord/getById",GetFaultReason:"/api/dms/faultReason/get",Handle:"/api/dms/faultRecord/handle",SendMessage:"/api/dms/faultRecord/SendMessage",SetIsSendMsg:"/api/dms/faultRecord/SetIsSendMsg"};function l(e){return Object(s["a"])({url:r.GetfaultRecord,methods:"get",params:e})}function c(e){return Object(s["a"])({url:r.GetById,methods:"get",params:{id:e}})}function d(e){return Object(s["a"])({url:r.GetFaultReason,method:"get",params:e})}function u(e){return Object(s["a"])({url:r.Handle,method:"post",headers:{"Content-Type":"application/json"},data:e})}function p(e){return Object(s["a"])({url:r.SendMessage,method:"post",headers:{"Content-Type":"application/json"},data:e})}function m(e){return Object(s["a"])({url:r.SetIsSendMsg,method:"post",headers:{"Content-Type":"application/json"},data:e})}var f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"dialog",attrs:{"close-on-click-modal":!1,visible:e.visible,title:"device"===e.mode?this.$t("deviceSearch.device"):this.$t("deviceSearch.type"),"append-to-body":""},on:{"update:visible":function(t){e.visible=t},close:e.onClose}},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%","max-height":"55vh",overflow:"auto"},attrs:{data:e.tableData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[n("template",{slot:"empty"},[n("div",{staticClass:"empty"},[n("img",{attrs:{src:a("a431")}}),n("p",[e._v("暂无数据")])])]),e.selected?n("el-table-column",{attrs:{type:"selection",width:"55"}}):n("el-table-column",{attrs:{label:"#",width:"55"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-radio",{attrs:{label:t.row.id},nativeOn:{change:function(a){return e.getTemplateRow(t.$index,t.row)}},model:{value:e.templateRadio,callback:function(t){e.templateRadio=t},expression:"templateRadio"}},[e._v("\n           \n        ")])]}}],null,!1,4062028578)}),n("el-table-column",{attrs:{label:"device"===e.mode?this.$t("deviceSearch.deviceName"):this.$t("deviceSearch.typename"),prop:"name"}}),n("el-table-column",{attrs:{label:"device"===e.mode?this.$t("deviceSearch.deviceCode"):this.$t("deviceSearch.typeCode"),prop:"code"}}),n("el-table-column",{attrs:{label:this.$t("remark"),prop:"remark"}})],2),n("div",{staticClass:"paginationContainer"},[n("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[5,20,30,40,50],"page-size":e.pageSize,total:e.totalCount,layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.visible=!1}}},[e._v(e._s(e.$t("common.cancel")))]),n("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(e._s(e.$t("common.ok")))])],1)],1)},h=[],v=(a("96cf"),a("3b8d")),b=a("11e6"),g={props:["selected"],data:function(){return{templateRadio:"",visible:!1,tableData:[],pageIndex:1,pageSize:20,totalCount:30,multipleSelection:{},mode:"device"}},methods:{submit:function(){switch(this.mode){case"device":this.$emit("submit",this.multipleSelection,"device");break;case"deviceType":this.$emit("submit",this.multipleSelection,"deviceType");break}this.visible=!1},getTemplateRow:function(e,t){this.multipleSelection=t},onClose:function(){this.$parent.deviceView=!1},init:function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,a){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.mode=t,this.visible=!0,"device"!==this.mode){e.next=7;break}return e.next=5,Object(b["o"])({keyword:this.keyword,pageIndex:this.pageIndex,pageSize:this.pageSize}).then((function(e){n.$set(n,"tableData",e.data.items),n.pageIndex=e.data.pageIndex,n.pageSize=e.data.pageSize,n.totalCount=e.data.totalCount}));case 5:e.next=9;break;case 7:return e.next=9,Object(b["q"])({keyword:this.keyword,pageIndex:this.pageIndex,pageSize:this.pageSize}).then((function(e){n.$set(n,"tableData",e.data.items),n.pageIndex=e.data.pageIndex,n.pageSize=e.data.pageSize,n.totalCount=e.data.totalCount}));case 9:a&&a.forEach((function(e){for(var t=0;t<n.tableData.length;t++)e.id===n.tableData[t].id&&n.$refs.multipleTable.toggleRowSelection(n.tableData[t])}));case 10:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){this.pageSize=e,this.init()},handleCurrentChange:function(e){this.pageIndex=e,this.init()},handleSelectionChange:function(e){this.multipleSelection=e}}},y=g,_=(a("3222"),a("61ca"),a("2877")),w=Object(_["a"])(y,f,h,!1,null,"6e071f32",null),S=w.exports,O=a("dddd"),$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{visible:e.dialogVisible,title:e.$t("faultDetails.faultRecordDetails")},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"el-dialog-div"},[a("el-card",{staticClass:"device"},[a("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n          "+e._s(this.$t("faultDetails.deviceInfo"))+"\n        ")]),a("div",[null!==e.faultDate.device?a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[e._v("\n              "+e._s(this.$t("faultDetails.deviceName"))+": "+e._s(e.faultDate.device.name)+"\n            ")]),a("el-col",{attrs:{span:12}},[e._v("\n              "+e._s(this.$t("faultDetails.deviceCode"))+": "+e._s(e.faultDate.device.code)+"\n            ")])],1):e._e(),null!==e.faultDate.deviceType?a("el-row",{staticStyle:{"margin-top":"15px"}},[a("el-col",[e._v("\n              "+e._s(this.$t("faultDetails.deviceType"))+": "+e._s(e.faultDate.deviceType.name)+"\n            ")])],1):e._e()],1)]),a("el-card",{staticClass:"employee"},[a("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n          "+e._s(this.$t("faultDetails.assEmp"))+"\n        ")]),a("div",e._l(e.faultDate.employees,(function(t,n){return a("span",{key:n},[a("el-tag",{staticStyle:{margin:"5px"}},[e._v(e._s(t.name))])],1)})),0)]),a("el-card",{staticClass:"information"},[a("div",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(this.$t("faultDetails.infoHis")))]),a("div",[a("p",[e._v(e._s(this.$t("faultDetails.status"))+"：\n            "),!0===e.faultDate.isHandled?a("span",[a("i",{staticClass:"el-icon-success",staticStyle:{color:"#67C23A"}}),e._v(e._s(this.$t("faultDetails.processed"))+"\n            ")]):e._e(),!1===e.faultDate.isHandled?a("span",[a("i",{staticClass:"el-icon-warning",staticStyle:{color:"#F56C6C"}}),e._v(e._s(this.$t("faultDetails.untreated"))+"\n\n              "),a("el-dropdown",{staticStyle:{"margin-left":"20px",cursor:"pointer"},attrs:{trigger:"click"},on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link",on:{click:e.handleErr}},[e._v("\n                  "+e._s(e.$t("faultDetails.clickHere"))),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),0===e.reasonsArr.length?a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"0"}},[e._v(e._s(e.$t("faultDetails.noProcess")))])],1):a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e._l(e.reasonsArr,(function(t,n){return a("el-dropdown-item",{key:n,attrs:{command:{type:0,data:t}}},[e._v(e._s(t.name))])})),a("el-dropdown-item",{staticStyle:{color:"#3c7a57"},attrs:{command:{type:1}}},[a("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("添加\n                  ")])],2)],1)],1):e._e()]),a("p",[e._v(e._s(this.$t("faultDetails.faultObj"))+"：")]),e._l(e.faultDate.symptoms,(function(t){return a("p",{key:t.id,staticStyle:{"text-indent":"2em"}},[e._v("\n            "+e._s(t.name)+" -- ( "+e._s(t.duration)+" "+e._s(e.$t("faultDetails.minite"))+" )\n          ")])})),a("p",[e._v(e._s(this.$t("faultDetails.pushFault"))+"：")]),e._l(e.faultDate.reasons,(function(t,n){return a("p",{key:n,staticStyle:{"text-indent":"2em"}},[e._v("\n            "+e._s(n+1)+".  "+e._s(t.name)+" -- ( "+e._s(e.$t("faultDetails.weight"))+": "+e._s(t.weight)+" )\n          ")])}))],2),a("el-timeline",{staticStyle:{padding:"10px"},attrs:{reverse:!0}},e._l(e.faultDate.logs,(function(t,n){return a("el-timeline-item",{key:n,attrs:{timestamp:t.createTime}},[e._v("\n            "+e._s(t.content)+"\n          ")])})),1)],1)],1)]),e.createFaultView?a("CreateFault",{ref:"createFault",on:{hidden:function(t){e.createFaultView=!1}}}):e._e()],1)},C=[],D=a("8dd2"),x={name:"FaultDetails",components:{CreateFault:D["a"]},data:function(){return{dialogVisible:!1,faultDate:{device:{code:"",id:"",name:""},deviceType:{code:"",id:"",name:""},employees:[{id:"",mobile:"",name:"",nickName:""}],id:"",isHandled:"",symptoms:[{name:"",duration:""}],reasons:[{name:"",weight:""}],logs:[{content:"",createTime:"",time:""}]},deviceId:"",recordId:"",realReasonId:0,reasonsArr:[{name:1},{name:13},{name:14}],createFaultView:!1}},methods:{init:function(e){var t=this;this.recordId=e,this.dialogVisible=!0,this.$nextTick((function(){c(e).then((function(e){if(e.data.logs){e.data.logs.map((function(e){e.createTime=t.$moment.utc(e.createTime).local().format("YYYY-MM-DD HH:mm:ss")})),t.deviceId=e.data.device.id;var a=e.data;t.$set(t,"faultDate",a)}}))}))},handleErr:function(){var e=this;d({pageIndex:1,pageSize:200,deviceId:this.deviceId,faultRecordId:this.recordId}).then((function(t){e.reasonsArr=t.data.items}))},handleCommand:function(e){var t=this;1===e.type?(this.createFaultView=!0,this.$nextTick((function(){t.$refs.createFault.init()})),this.handleErr()):(this.realReasonId=e.data.id,u({recordId:this.recordId,realReasonId:this.realReasonId}).then((function(){t.dialogVisible=!1,t.$parent.init()})))},hiddleClose:function(){this.$emit("reset")}}},I=x,k=(a("c202"),Object(_["a"])(I,$,C,!1,null,"beb64002",null)),j=k.exports,T=a("4624");function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z={name:"FaultRecord",components:{Detail:S,DeviceSearch:O["a"],FaultDetails:j},mixins:[T["b"],T["a"]],data:function(){return{loading:!1,deviceOption:!1,deviceTypeOption:!1,detailView:!1,pageIndex:1,pageSize:20,totalCount:1,tableData:[],number:"",recordId:"",dialogVisible:!1,value1:!1}},mounted:function(){this.init()},methods:{init:function(){var e=this;this.loading=!0,l(P({pageIndex:this.pageIndex,pageSize:this.pageSize},this.deviceTypeOption&&this.deviceTypeOption.id&&{deviceTypeId:this.deviceTypeOption.id},{},this.deviceOption&&this.deviceOption.code&&{deviceCode:this.deviceOption.code})).then((function(t){e.loading=!1,e.tableData=t.data.items,e.pageIndex=t.data.pageIndex,e.pageSize=t.data.pageSize,e.totalCount=t.data.totalCount,e.tableData.map((function(t){t.createTime=e.$moment.utc(t.createTime).local().format("YYYY-MM-DD HH:mm:ss")}))}))},searchLook:function(e){this.$refs.faultDetails.init(e)},alarm:function(e){this.recordId=e,this.dialogVisible=!0},alarmTip:function(){this.$message("该报警已经处理过了")},subAlam:function(){var e=this;this.number?p({RecordId:this.recordId,Mobile:this.number}).then((function(){e.$message({message:"添加成功",type:"success"}),e.dialogVisible=!1,e.number=""})).catch((function(){})):this.$message({message:"请输入手机号码",type:"warning"})},switchge:function(e,t,a){var n,i=this;n=1==a?0:1,m({DeviceId:t,RecordId:e,IsSendMsg:n}).then((function(){i.$message({message:"设置成功",type:"success"})})).catch((function(){}))},handleClose:function(e){this.$confirm("确认关闭？").then((function(){e()})).catch((function(){}))},searchInit:function(){this.init()},handleSizeChange:function(e){this.pageSize=e,this.init()},handleCurrentChange:function(e){this.pageIndex=e,this.init()}}},F=z,V=(a("3dbe"),Object(_["a"])(F,n,i,!1,null,"eb96c1dc",null));t["default"]=V.exports},3222:function(e,t,a){"use strict";var n=a("c9fa"),i=a.n(n);i.a},"3dbe":function(e,t,a){"use strict";var n=a("0aa4"),i=a.n(n);i.a},"419e":function(e,t,a){},"61ca":function(e,t,a){"use strict";var n=a("419e"),i=a.n(n);i.a},6517:function(e,t,a){},"65da":function(e,t,a){"use strict";a.d(t,"f",(function(){return o})),a.d(t,"l",(function(){return s})),a.d(t,"m",(function(){return r})),a.d(t,"c",(function(){return l})),a.d(t,"h",(function(){return c})),a.d(t,"i",(function(){return d})),a.d(t,"a",(function(){return u})),a.d(t,"j",(function(){return p})),a.d(t,"d",(function(){return m})),a.d(t,"g",(function(){return f})),a.d(t,"b",(function(){return h})),a.d(t,"k",(function(){return v})),a.d(t,"e",(function(){return b}));var n=a("b775"),i={getList:"/api/dms/faultScheme/get",createItem:"/api/dms/faultScheme/Create",updateItem:"/api/dms/faultScheme/update",deleteItem:"/api/dms/faultScheme/delete",getphenomenonById:"/api/dms/faultSymptom/get",phenomenonDetailById:"/api/dms/faultSymptom/getById",getReasonList:"/api/dms/faultReason/get",updatePhenomenon:"/api/dms/faultSymptom/update",deletePhenomenon:"/api/dms/faultSymptom/delete",createPhenomenon:"/api/dms/faultSymptom/create",createReason:"/api/dms/faultReason/create",deleteReason:"/api/dms/faultReason/delete",updateReason:"/api/dms/faultReason/update"};function o(e){return Object(n["a"])({url:i.getList,method:"get",params:e})}function s(e){return Object(n["a"])({url:i.createItem,method:"post",data:e})}function r(e){return Object(n["a"])({url:i.updateItem,method:"post",data:e})}function l(e){return Object(n["a"])({url:i.deleteItem,method:"post",data:{id:e}})}function c(e){return Object(n["a"])({url:i.getphenomenonById,method:"get",params:e})}function d(e){return Object(n["a"])({url:i.phenomenonDetailById,method:"get",params:{id:e}})}function u(e){return Object(n["a"])({url:i.createPhenomenon,method:"post",data:e})}function p(e){return Object(n["a"])({url:i.updatePhenomenon,method:"post",data:e})}function m(e){return Object(n["a"])({url:i.deletePhenomenon,method:"post",data:{id:e}})}function f(e){return Object(n["a"])({url:i.getReasonList,method:"get",params:e})}function h(e){return Object(n["a"])({url:i.createReason,method:"post",data:e})}function v(e){return Object(n["a"])({url:i.updateReason,method:"post",data:e})}function b(e){return Object(n["a"])({url:i.deleteReason,method:"post",data:{id:e}})}},"8dd2":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.visible,"close-on-click-modal":!1,title:"新增原因","append-to-body":"",center:""},on:{"update:visible":function(t){e.visible=t},close:e.close}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.validRules}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{maxlength:100},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"故障类型",prop:"type"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-option",{attrs:{value:10,label:"通知"}}),a("el-option",{attrs:{value:20,label:"预警"}}),a("el-option",{attrs:{value:30,label:"警报"}})],1)],1),a("el-form-item",{attrs:{label:"说明",prop:"description"}},[a("el-input",{attrs:{rows:3,maxlength:300,resize:"none",type:"textarea",placeholder:"请输入内容"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("el-form-item",{staticStyle:{display:"flex","justify-content":"center"}},[a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("立即创建")])],1)],1)],1)},i=[],o=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),s=(a("7f7f"),a("65da"));function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(a,!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var c={data:function(){return{visible:!1,form:{type:"",name:"",description:""},validRules:{name:[{type:"string",required:!0,message:"请输入名称",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],description:[{required:!0,message:"请输入说明",trigger:"blur"}]}}},methods:{init:function(){this.visible=!0},close:function(){this.$emit("hidden")},onSubmit:function(){var e=this;this.$refs.form.validate((function(t){if(t){var a="",n="";"FaultRecord"===e.$route.name||"FaultRecord2"===e.$route.name?(a=void 0,n=e.$parent.deviceId):(a=e.$route.query.schemeId,n=e.$route.query.deviceId),Object(s["b"])(l({},e.form,{schemeId:a,deviceId:n})).then((function(){e.$message({type:"success",message:"成功",duration:500,onClose:function(){e.$emit("reset"),e.close()}})}))}}))}}},d=c,u=a("2877"),p=Object(u["a"])(d,n,i,!1,null,null,null);t["a"]=p.exports},c202:function(e,t,a){"use strict";var n=a("6517"),i=a.n(n);i.a},c9fa:function(e,t,a){}}]);
//# sourceMappingURL=chunk-0fb3a817.f3c9545c.js.map