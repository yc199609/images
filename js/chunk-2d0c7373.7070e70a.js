(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7373"],{5057:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{margin:"20px"}},[a("el-button",{staticStyle:{"margin-bottom":"10px"},attrs:{icon:"el-icon-plus",round:""},on:{click:t.add}},[t._v("添加")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark",border:""}},[a("template",{slot:"empty"},[a("div",{staticClass:"empty"},[a("img",{attrs:{src:n("a431")}}),a("p",[t._v("暂无数据")])])]),a("el-table-column",{attrs:{fixed:"",prop:"tagTypeName",label:"名称",align:"center"}}),a("el-table-column",{attrs:{fixed:"",prop:"tagInfo",label:"可选值",align:"center"}}),a("el-table-column",{attrs:{fixed:"",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleClick(e.row)}}},[t._v("修改")]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.del(e.row.tagTypeId)}}},[t._v("删除")])]}}])})],2),t.labelShow?a("setLabel",{ref:"label"}):t._e()],1)},i=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.visible,"close-on-click-modal":!1,title:"insert"===t.type?"新增":"修改"},on:{"update:visible":function(e){t.visible=e}}},[a("div",{staticStyle:{margin:"20px"}},[a("div",{staticStyle:{margin:"0 10px 10px 0",width:"40%",float:"left"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:t.nameValue,callback:function(e){t.nameValue=e},expression:"nameValue"}},[a("template",{slot:"prepend"},[t._v("名称")])],2)],1),a("el-button",{staticStyle:{"margin-top":"unset"},attrs:{round:""},on:{click:t.add}},[t._v("添加可选值")]),a("el-table",{attrs:{data:t.showtable,"tooltip-effect":"dark",border:"",height:"400"}},[a("template",{slot:"empty"},[a("div",{staticClass:"empty"},[a("img",{attrs:{src:n("a431")}}),a("p",[t._v("暂无数据")])])]),a("el-table-column",{attrs:{fixed:"",prop:"name",label:"可选值",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[n.edit?[a("el-input",{model:{value:n.name,callback:function(e){t.$set(n,"name",e)},expression:"row.name"}})]:a("span",[t._v(t._s(n.name))])]}}])}),a("el-table-column",{attrs:{fixed:"",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleClick(e.row)}}},[t._v(t._s(e.row.edit?"保存":"修改"))]),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.del(e.row)}}},[t._v("删除")])]}}])})],2)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v(t._s(t.$t("cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:t.choose}},[t._v(t._s(t.$t("ok")))])],1)])},s=[],o=n("34cd"),c={name:"SetLabel",data:function(){return{visible:!1,type:"insert",tableValue:[],nameValue:"",id:""}},computed:{showtable:function(){return this.tableValue.filter((function(t){return!t.isDeleted}))}},methods:{init:function(t){var e=this;this.type=null==t?"insert":"edit",this.visible=!0,"edit"===this.type?(this.id=t.tagTypeId,Object(o["e"])(t.tagTypeId).then((function(t){e.tableValue=t.data.options,e.nameValue=t.data.typeName}))):(this.tableValue=[],this.nameValue="")},handleClick:function(t){t.edit?this.$set(t,"edit",!1):this.$set(t,"edit",!0)},add:function(){var t=this;this.$prompt("请输入可选值","新增可选值",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((function(e){var n=e.value;t.tableValue.push({name:n})})).catch((function(){}))},del:function(t){"edit"===this.type?this.$set(t,"isDeleted",1):"insert"===this.type&&this.tableValue.splice(this.tableValue.indexOf(t),1)},choose:function(){var t=this;""!==this.nameValue?"edit"===this.type?Object(o["f"])({name:this.nameValue,tagTypeId:this.id,options:this.tableValue}).then((function(){t.cancel(),t.$parent.init()})):"insert"===this.type&&Object(o["b"])({options:this.tableValue,name:this.nameValue}).then((function(){t.cancel(),t.$parent.init()})):this.$message({message:"请输入名称",type:"warning"})},cancel:function(){this.visible=!1}}},r=c,u=n("2877"),d=Object(u["a"])(r,l,s,!1,null,null,null),p=d.exports,h={name:"Label",components:{setLabel:p},data:function(){return{tableData:[],labelShow:!1}},created:function(){this.init()},methods:{init:function(){var t=this;Object(o["d"])().then((function(e){t.tableData=e.data}))},add:function(){var t=this;this.labelShow=!0,this.$nextTick((function(){t.$refs.label.init()}))},handleClick:function(t){var e=this;this.labelShow=!0,this.$nextTick((function(){e.$refs.label.init(t)}))},del:function(t){var e=this;this.$confirm("此标签将永久被删除, 是否继续?",this.$t("tips"),{confirmButtonText:this.$t("ok"),cancelButtonText:this.$t("cancel"),type:"warning"}).then((function(){Object(o["c"])(t).then((function(){e.init()}))}))}}},f=h,b=Object(u["a"])(f,a,i,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0c7373.7070e70a.js.map